#labels Phase-Design
Integration into AOSP. *WIP*

= Introduction =

Integration of language/country based IDC/KL/KCM files into AOSP.


= Details =

{{{
libs/ui/Input.cpp
---
const PropertyMap& in = getDevice()->getConfiguration();
String8 language;
String8 country;
String8 idcfn;

if(!in.tryGetProperty(String8("persist.sys.language"),language)) {
	language.setTo("en");
}
if(!in.tryGetProperty(String8("persist.sys.country"),country)) {
	country.setTo("US");
}

idcfn.setTo(language);
idcfn.append("_");
idcfn.append(country);
idcfn.append(type);

if(!language.isEmpty()) {
   return idcfn;
}
}}}

{{{
./data/keyboards/common.mk
---
}}}

= abbrev. =

|| abbrev. || abbreviations ||
|| AOSP || Android open source project ||
|| IDC || input device configuration ||
|| KCM || key char map ||
|| KL || keyboard layout ||
|| WIP || work in progress ||